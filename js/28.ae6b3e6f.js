"use strict";(self["webpackChunksave_world_web_admin"]=self["webpackChunksave_world_web_admin"]||[]).push([[28],{4028:function(e,a,l){l.r(a),l.d(a,{default:function(){return x}});var t=l(6768),s=l(5130),o=l(4232),r=l(144),u=l(6567);const n={class:"container"},i={class:"login-form"},p={class:"inputs-group"},c={class:"input-wrapper"},v={class:"input-wrapper"},d={class:"errors-wrapper"},k={key:0,class:"error--wrong-cred"},w={class:"signup-form"},L={class:"inputs-group"},h={class:"input-wrapper"},_={class:"input-wrapper"},b={class:"input-wrapper"},m={class:"switcher-wrapper"};var g=(0,t.pM)({__name:"AuthWindow",emits:["close-modal"],setup(e,{emit:a}){const l=(0,u.q)(),g=a,f=(0,r.KR)({login:"",password:""}),y=(0,r.KR)({login:"",password:"",repeatPassword:""}),C=(0,r.KR)(!1),K=(0,r.KR)(!1),R=(0,r.KR)(!0),x=(0,r.KR)("right"),U=(0,r.KR)("switcher__drag-left"),V=(0,r.KR)("Авторизация"),J=(0,r.KR)("switcher__text-left"),A=()=>{K.value=R.value,R.value=!R.value,K.value?(V.value="Регистрация",U.value="switcher__drag-right",J.value="switcher__text-right",x.value="left"):(V.value="Авторизация",U.value="switcher__drag-left",J.value="switcher__text-left",x.value="right")},P=async()=>{C.value=!1;try{await l.loginUser(f.value),g("close-modal")}catch(e){"Неправильный пароль или логин"===e.message&&(C.value=!0),console.error(e)}},X=async()=>{try{await l.createUser(y.value),g("close-modal")}catch(e){console.error(e)}};return(e,a)=>((0,t.uX)(),(0,t.CE)("div",{class:"auth-bg",onClick:a[6]||(a[6]=a=>e.$emit("close-modal"))},[(0,t.Lk)("div",n,[(0,t.Lk)("div",{class:"auth-modal",onClick:a[5]||(a[5]=(0,s.D$)((()=>{}),["stop"]))},[(0,t.Lk)("div",{class:(0,o.C4)(["form-container",x.value])},[(0,t.Lk)("form",i,[a[10]||(a[10]=(0,t.Lk)("h1",null,"Авторизация",-1)),(0,t.Lk)("div",p,[(0,t.Lk)("div",c,[a[7]||(a[7]=(0,t.Lk)("label",{for:""},"Логин:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"tel","onUpdate:modelValue":a[0]||(a[0]=e=>f.value.login=e)},null,512),[[s.Jo,f.value.login]])]),(0,t.Lk)("div",v,[a[8]||(a[8]=(0,t.Lk)("label",{for:""},"Пароль:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>f.value.password=e)},null,512),[[s.Jo,f.value.password]])])]),(0,t.Lk)("div",d,[C.value?((0,t.uX)(),(0,t.CE)("div",k,a[9]||(a[9]=[(0,t.Lk)("p",null,"Неправильные логин или пароль!",-1)]))):(0,t.Q3)("",!0)]),(0,t.Lk)("button",{class:"auth-btn",type:"button",onClick:P},"Войти")]),(0,t.Lk)("form",w,[a[14]||(a[14]=(0,t.Lk)("h1",null,"Регистрация",-1)),(0,t.Lk)("div",L,[(0,t.Lk)("div",h,[a[11]||(a[11]=(0,t.Lk)("label",{for:""},"Логин:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>y.value.login=e)},null,512),[[s.Jo,y.value.login]])]),(0,t.Lk)("div",_,[a[12]||(a[12]=(0,t.Lk)("label",{for:""},"Пароль:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>y.value.password=e)},null,512),[[s.Jo,y.value.password]])]),(0,t.Lk)("div",b,[a[13]||(a[13]=(0,t.Lk)("label",{for:""},"Подтвердите пароль:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>y.value.repeatPassword=e)},null,512),[[s.Jo,y.value.repeatPassword]])])]),(0,t.Lk)("button",{class:"auth-btn",type:"button",onClick:X}," Зарегистрироваться ")])],2),(0,t.Lk)("div",m,[(0,t.Lk)("button",{class:"switcher",onClick:A},[(0,t.Lk)("span",{class:(0,o.C4)(U.value)},null,2),(0,t.Lk)("span",{class:(0,o.C4)(J.value)},(0,o.v_)(V.value),3)])])])])]))}}),f=l(1241);const y=(0,f.A)(g,[["__scopeId","data-v-01e38be4"]]);var C=y,K=(0,t.pM)({__name:"AuthView",setup(e){return(e,a)=>((0,t.uX)(),(0,t.Wv)(C))}});const R=K;var x=R}}]);
//# sourceMappingURL=28.ae6b3e6f.js.map